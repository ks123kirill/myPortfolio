const ALERT_SHOW_TIME=5e3,showAlert=e=>{const t=document.createElement("div");t.style.width="500px",t.style.height="200px",t.style.backgroundColor="#353535",t.style.zIndex=1e3,t.style.position="absolute",t.style.top=0,t.style.bottom=0,t.style.left=0,t.style.right=0,t.style.margin="auto",t.style.padding="80px 50px",t.style.fontSize="20px",t.style.textAlign="center",t.style.color="white",t.textContent=e,document.body.append(t),setTimeout((()=>{t.remove()}),5e3)},form=document.getElementById("form");async function formSend(e){e.preventDefault();let t=formValidate(form),o=new FormData(form);if(0===t){form.classList.add("_sending");let e=await fetch("sendMail.php",{method:"POST",body:o});if(e.ok){let t=await e.json();showAlert(t.message),form.reset(),form.classList.remove("_sending")}else alert("ошибка"),form.classList.remove("_sending")}else alert("Заполните поля")}function formValidate(e){let t=0,o=document.querySelectorAll("._req");for(let e=0;e<o.length;e++){const r=o[e];formRemoveError(r),r.classList.contains("_email")?emailTest(r)&&(formAddError(r),t++):""===r.value&&(formAddError(r),t++)}return t}function formAddError(e){e.classList.add("_error")}function formRemoveError(e){e.classList.remove("_error")}function emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}form.addEventListener("submit",formSend);