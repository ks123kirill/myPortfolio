const ALERT_SHOW_TIME=3e3,showAlert=e=>{const t=document.createElement("div");t.style.display="flex",t.style.maxWidth="540px",t.style.maxHeight="240px",t.style.backgroundColor="transparent",t.style.zIndex=1e3,t.style.position="fixed",t.style.top=0,t.style.bottom=0,t.style.left=0,t.style.right=0,t.style.fontSize="20px",t.style.textAlign="center",t.style.color="#48494d",t.style.padding="20px 20px",t.style.margin="auto";const o=document.createElement("div");o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",o.style.flexBasis="100%",o.textContent=e,o.style.backgroundColor="#fff",o.style.border="3px solid rgb(181, 195, 214)",o.style.borderRadius="10px",o.style.boxShadow="0px 0px 9px 4px rgba(162, 129, 129, 0.5)",o.style.padding="20px 20px",t.prepend(o),document.body.append(t),setTimeout((()=>{t.remove()}),3e3)},form=document.getElementById("form");async function formSend(e){e.preventDefault();let t=formValidate(form),o=new FormData(form);if(0===t){form.classList.add("_sending");let e=await fetch("sendMail.php",{method:"POST",body:o});if(e.ok){let t=await e.json();showAlert(t.message),form.reset(),form.classList.remove("_sending")}else showAlert("Какая то ошибка. Данные не отправлены :("),form.classList.remove("_sending")}else showAlert("Заполните поля")}function formValidate(e){let t=0,o=document.querySelectorAll("._req");for(let e=0;e<o.length;e++){const r=o[e];formRemoveError(r),r.classList.contains("_email")?emailTest(r)&&(formAddError(r),t++):""===r.value&&(formAddError(r),t++)}return t}function formAddError(e){e.classList.add("_error")}function formRemoveError(e){e.classList.remove("_error")}function emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}form.addEventListener("submit",formSend);